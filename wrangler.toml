name = "agroisync-email-final"
main = "backend/src/email-only-worker.js"
compatibility_date = "2024-09-01"

# Configuração para Cloudflare Workers
compatibility_flags = ["nodejs_compat"]

# Cloudflare D1 Database
[[d1_databases]]
binding = "DB"
database_name = "agroisync-db"
database_id = "a3eb1069-9c36-4689-9ee9-971245cb2d12"

# Variáveis de ambiente
[vars]
NODE_ENV = "production"
API_VERSION = "v1"
# Configure via Wrangler secrets: wrangler secret put RESEND_API_KEY
# RESEND_API_KEY is intentionally not set here
RESEND_FROM = "Agroisync <contato@agroisync.com>"
# Configure via Wrangler secrets: wrangler secret put CLOUDFLARE_TURNSTILE_SECRET
# CLOUDFLARE_TURNSTILE_SECRET is intentionally not set here

# Rota do Worker servindo sob o domínio principal
routes = ["agroisync.com/api/*"]
