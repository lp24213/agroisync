name = "agroisync"
compatibility_date = "2025-01-20"
main = "build/index.html"

[[pages_build_config]]
assets = { not_found_handling = "single-page-application" }

# Configuração para SPA com rotas criptografadas
[build]
command = "npm run build"
cwd = "frontend"

# Configuração de redirecionamento para SPA
[[redirects]]
from = "/*"
to = "/index.html"
status = 200

# Configuração para Cloudflare Pages
[env.production]
routes = ["agroisync.com/*"]

# Variáveis de ambiente
[vars]
NODE_ENV = "production"
REACT_APP_API_URL = "https://api.agroisync.com"
