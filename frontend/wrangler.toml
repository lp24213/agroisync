name = "agroisync"
compatibility_date = "2025-01-20"

[[pages_build_config]]
assets = { not_found_handling = "single-page-application" }

# Configuração para SPA com rotas criptografadas
[build]
command = "npm run build"

# Configuração de redirecionamento para SPA
[[redirects]]
from = "/*"
to = "/index.html"
status = 200

# Configuração para Cloudflare Pages
pages_build_output_dir = "build"

[env.production]
name = "agroisync"

[env.staging]
name = "agroisync-staging"

# Variáveis de ambiente
[vars]
NODE_ENV = "production"

[env.production.vars]
NODE_ENV = "production"

[env.staging.vars]
NODE_ENV = "staging"
