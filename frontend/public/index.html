<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.svg" type="image/svg+xml" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#22c55e" />
    <meta name="description" content="Agroisync â€” soluÃ§Ãµes para o agronegÃ³cio" />
    <!-- CSP removido para compatibilidade mobile -->
    <link rel="canonical" href="https://agroisync.com/" />
    <meta name="keywords" content="agronegÃ³cio, marketplace, fretes, cripto, blockchain, IA, agricultura, produtos agrÃ­colas" />
    <meta name="author" content="Agroisync Team" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://agroisync.com/" />
    <meta property="og:title" content="AGROISYNC - Futuro do AgronegÃ³cio" />
    <meta property="og:description" content="A plataforma de agronegÃ³cio mais futurista do mundo. Conecte-se ao futuro do agronegÃ³cio com tecnologia blockchain, IA e marketplace inteligente." />
    <meta property="og:image" content="%PUBLIC_URL%/og-image.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://agroisync.com/" />
    <meta property="twitter:title" content="AGROISYNC - Futuro do AgronegÃ³cio" />
    <meta property="twitter:description" content="A plataforma de agronegÃ³cio mais futurista do mundo. Conecte-se ao futuro do agronegÃ³cio com tecnologia blockchain, IA e marketplace inteligente." />
    <meta property="twitter:image" content="%PUBLIC_URL%/og-image.png" />

    <!-- Preconnect para performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fontes do Google -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Favicon -->
    <link rel="icon" href="%PUBLIC_URL%/icon-192.png" sizes="192x192" type="image/png" />
    <link rel="icon" href="%PUBLIC_URL%/icon-512.png" sizes="512x512" type="image/png" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/app-icons/ios/icon-180.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- PWA - Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Agroisync">
    <meta name="theme-color" content="#22c55e">
    
    <!-- PWA - iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Agroisync">
    <meta name="apple-touch-fullscreen" content="yes">
    
    <!-- iOS Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/app-icons/ios/icon-180.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="%PUBLIC_URL%/app-icons/ios/icon-152.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="%PUBLIC_URL%/app-icons/ios/icon-120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="%PUBLIC_URL%/app-icons/ios/icon-76.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="%PUBLIC_URL%/app-icons/ios/icon-60.png" />
    
    <!-- iOS Splash Screens -->
    <link rel="apple-touch-startup-image" href="%PUBLIC_URL%/app-icons/ios/splash/iphone-6.5.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" />
    <link rel="apple-touch-startup-image" href="%PUBLIC_URL%/app-icons/ios/splash/iphone-6.1.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" />
    <link rel="apple-touch-startup-image" href="%PUBLIC_URL%/app-icons/ios/splash/iphone-5.5.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 3)" />
    <link rel="apple-touch-startup-image" href="%PUBLIC_URL%/app-icons/ios/splash/iphone-4.7.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" />
    
    <!-- SeguranÃ§a -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <!-- Polyfill para process.env -->
    <script>
      if (typeof process === 'undefined') {
        window.process = { env: { NODE_ENV: 'production' } };
      }
    </script>
    
    <title>AGROISYNC - Futuro do AgronegÃ³cio</title>
    
    <!-- Estilos crÃ­ticos inline -->
    <style>
      /* Mobile responsive styles para header */
      @media (max-width: 880px) {
        #main-header { 
          flex-wrap: wrap; 
          padding: 12px; 
        }
        #main-nav { 
          width: 100%; 
          order: 3; 
          justify-content: center;
          margin-top: 1rem;
        }
        .lang-selector { 
          order: 2; 
          margin-left: 0; 
        }
        #logo { 
          order: 1; 
        }
      }
    </style>
  </head>
  <body>

    <noscript>
      <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif; background: #f3f4f6; min-height: 100vh;">
        <div style="max-width: 600px; margin: 0 auto; background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
          <h1 style="color: #065f46; margin-bottom: 1rem;">ðŸŒ¾ Agroisync</h1>
          <h2 style="color: #047857; margin-bottom: 1rem;">JavaScript NecessÃ¡rio</h2>
          <p style="color: #666; margin-bottom: 1.5rem;">
            O Agroisync requer JavaScript para funcionalidades avanÃ§adas como marketplace, 
            sistema de fretes e pagamentos cripto. Por favor, habilite JavaScript em seu navegador.
          </p>
          <div style="background: #fef3c7; border: 1px solid #f59e0b; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
            <p style="color: #92400e; margin: 0; font-size: 0.9rem;">
              <strong>Dica:</strong> Mesmo sem JavaScript, vocÃª pode navegar pelas informaÃ§Ãµes bÃ¡sicas do site.
            </p>
          </div>
        </div>
      </div>
    </noscript>
    
    <div id="root"></div>
    
    <!-- Cloudflare Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" defer></script>
    
    <!-- VLibras ULTRA MODERNO - Acessibilidade -->
    <style>
      /* Botão VLibras ULTRA MODERNO */
      div[vw] .access-button,
      div[vw-access-button] {
        position: fixed !important;
        bottom: 110px !important;
        left: 20px !important;
        right: auto !important;
        width: 60px !important;
        height: 60px !important;
        border-radius: 50% !important;
        background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%) !important;
        border: none !important;
        box-shadow: 0 8px 32px rgba(59, 130, 246, 0.4), 0 4px 12px rgba(0, 0, 0, 0.2) !important;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
        backdrop-filter: blur(8px) !important;
        z-index: 9998 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        pointer-events: auto !important;
      }
      div[vw] .access-button::after,
      div[vw-access-button]::after {
        content: 'Oi! Sou seu assistente em Libras 👋';
        position: absolute;
        left: 70px;
        right: auto;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.95);
        color: #1e3a8a;
        border-radius: 999px;
        padding: 8px 16px;
        font-size: 13px;
        font-weight: 600;
        box-shadow: 0 10px 25px rgba(30, 64, 175, 0.25);
        white-space: nowrap;
        pointer-events: none;
      }
      div[vw] .access-button::before,
      div[vw-access-button]::before {
        content: '';
        position: absolute;
        left: 60px;
        right: auto;
        top: 50%;
        transform: translateY(-50%);
        border-width: 8px;
        border-style: solid;
        border-color: transparent rgba(255, 255, 255, 0.95) transparent transparent;
        pointer-events: none;
      }
      
      div[vw] .access-button:hover,
      div[vw-access-button]:hover {
        transform: scale(1.15) translateY(-3px) !important;
        box-shadow: 0 12px 40px rgba(59, 130, 246, 0.6), 0 6px 16px rgba(0, 0, 0, 0.3) !important;
        background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%) !important;
      }
      
      div[vw] .access-button:active {
        transform: scale(1.05) !important;
      }
      
      /* Painel VLibras MODERNO */
      div[vw-plugin-wrapper] {
        position: fixed !important;
        top: auto !important;
        bottom: 160px !important;
        left: 20px !important;
        right: auto !important;
        max-width: 90vw !important;
        max-height: 65vh !important;
        border-radius: 20px !important;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3) !important;
        overflow: hidden !important;
        backdrop-filter: blur(10px) !important;
        z-index: 9995 !important;
      }
      
      /* Mobile: VLibras responsivo */
      @media (max-width: 768px) {
        div[vw] .access-button,
        div[vw-access-button] {
          width: 56px !important;
          height: 56px !important;
        }
        
        div[vw] .access-button::before,
        div[vw-access-button]::before {
          left: 50px;
          border-width: 7px;
        }
        
        div[vw] .access-button::after,
        div[vw-access-button]::after {
          content: 'Assistente em Libras 👋';
          left: 50px;
          right: auto;
          font-size: 11px;
          padding: 6px 12px;
        }
        
        div[vw-plugin-wrapper] {
          width: 90vw !important;
          max-width: 90vw !important;
          left: 5vw !important;
          right: auto !important;
          bottom: 150px !important;
          max-height: 60vh !important;
        }
      }
    </style>
    
    <div vw class="enabled">
      <div vw-access-button class="active"></div>
      <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
      </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
      // Inicializar VLibras - MÉTODO OFICIAL
      new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>
    <script>
      window.addEventListener('load', () => {
        const START_TIME = Date.now();
        const MAX_WAIT = 10000;

        const makeDraggable = (element, handle = element) => {
          if (!element || !handle) return;
          handle.style.cursor = 'move';
          handle.style.touchAction = 'none';

          let isDragging = false;
          let startX = 0;
          let startY = 0;
          let startLeft = 0;
          let startTop = 0;

          const onPointerDown = event => {
            const pointer = event.touches ? event.touches[0] : event;
            isDragging = true;
            const rect = element.getBoundingClientRect();
            startX = pointer.clientX;
            startY = pointer.clientY;
            startLeft = rect.left;
            startTop = rect.top;
            element.style.position = 'fixed';
            element.style.left = `${startLeft}px`;
            element.style.top = `${startTop}px`;
            element.style.right = 'auto';
            element.style.bottom = 'auto';

            document.addEventListener('mousemove', onPointerMove, { passive: false });
            document.addEventListener('touchmove', onPointerMove, { passive: false });
            document.addEventListener('mouseup', onPointerUp);
            document.addEventListener('touchend', onPointerUp);
          };

          const onPointerMove = event => {
            if (!isDragging) return;
            const pointer = event.touches ? event.touches[0] : event;
            const dx = pointer.clientX - startX;
            const dy = pointer.clientY - startY;
            const rect = element.getBoundingClientRect();

            let newLeft = startLeft + dx;
            let newTop = startTop + dy;

            newLeft = Math.max(10, Math.min(window.innerWidth - rect.width - 10, newLeft));
            newTop = Math.max(10, Math.min(window.innerHeight - rect.height - 10, newTop));

            element.style.left = `${newLeft}px`;
            element.style.top = `${newTop}px`;
            event.preventDefault();
          };

          const onPointerUp = () => {
            if (!isDragging) return;
            isDragging = false;
            document.removeEventListener('mousemove', onPointerMove);
            document.removeEventListener('touchmove', onPointerMove);
            document.removeEventListener('mouseup', onPointerUp);
            document.removeEventListener('touchend', onPointerUp);
          };

          handle.addEventListener('mousedown', onPointerDown);
          handle.addEventListener('touchstart', onPointerDown, { passive: false });
        };

        const interval = setInterval(() => {
          const accessButton = document.querySelector('div[vw-access-button]');
          const pluginWrapper = document.querySelector('div[vw-plugin-wrapper]');
          const pluginHandle = document.querySelector('div[vw-plugin-wrapper] .vw-plugin-top-wrapper');

          if (accessButton) {
            makeDraggable(accessButton);
          }

          if (pluginWrapper) {
            makeDraggable(pluginWrapper, pluginHandle || pluginWrapper);
          }

          if (accessButton && pluginWrapper) {
            clearInterval(interval);
          } else if (Date.now() - START_TIME > MAX_WAIT) {
            clearInterval(interval);
          }
        }, 500);
      });
    </script>
  </body>
</html>


