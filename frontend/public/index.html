<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    
    <!-- Cloudflare Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    
    <!-- CSP - Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.cloudflare.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://ipapi.co https://nominatim.openstreetmap.org https://servicodados.ibge.gov.br https://api.agrolink.com.br; frame-ancestors 'none';">
    
    <!-- Cloudflare Bot Management -->
    <meta name="cf-bot-management" content="enabled">
    
    <!-- Rate Limiting -->
    <meta name="cf-rate-limit" content="100,60">
    
    <meta name="description" content="AGROSYNC - Plataforma líder em inteligência agrícola, integrando dados em tempo real do IBGE, Receita Federal e APIs globais para análise avançada de commodities." />
    <meta name="keywords" content="agronegócio, cotações, grãos, IBGE, receita federal, API agrícola, marketplace, geolocalização, commodities, soja, milho, trigo" />
    <meta name="author" content="AGROSYNC Team" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://agroisync.com/" />
    <meta property="og:title" content="AGROSYNC - Inteligência Agrícola" />
    <meta property="og:description" content="Plataforma líder em inteligência agrícola com dados em tempo real do IBGE, Receita Federal e APIs globais." />
    <meta property="og:image" content="%PUBLIC_URL%/agrosync-logo.svg" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://agroisync.com/" />
    <meta property="twitter:title" content="AGROSYNC - Inteligência Agrícola" />
    <meta property="twitter:description" content="Plataforma líder em inteligência agrícola com dados em tempo real do IBGE, Receita Federal e APIs globais." />
    <meta property="twitter:image" content="%PUBLIC_URL%/agrosync-logo.svg" />
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.cloudflare.com">
    <link rel="preconnect" href="https://ipapi.co">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Manifest -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <title>AGROSYNC - Inteligência Agrícola</title>
  </head>
  <body>
    <noscript>Você precisa habilitar JavaScript para executar este aplicativo.</noscript>
    <div id="root"></div>
    
    <!-- Cloudflare Security Scripts -->
    <script>
      // Rate Limiting Client-Side
      let requestCount = 0;
      const maxRequests = 100;
      const timeWindow = 60000; // 1 minuto
      
      function checkRateLimit() {
        if (requestCount >= maxRequests) {
          throw new Error('Rate limit exceeded');
        }
        requestCount++;
        setTimeout(() => requestCount--, timeWindow);
      }
      
      // Bot Detection
      function detectBot() {
        const userAgent = navigator.userAgent;
        const botPatterns = [
          /bot/i, /crawler/i, /spider/i, /scraper/i,
          /curl/i, /wget/i, /python/i, /java/i
        ];
        
        return botPatterns.some(pattern => pattern.test(userAgent));
      }
      
      // Security Headers Check
      if (detectBot()) {
        console.warn('Bot detected - applying additional security measures');
      }
      
      // DDoS Protection
      window.addEventListener('load', () => {
        // Monitor de atividade suspeita
        let suspiciousActivity = 0;
        
        document.addEventListener('click', () => {
          suspiciousActivity++;
          if (suspiciousActivity > 1000) {
            console.warn('Suspicious activity detected');
          }
        });
      });
    </script>
  </body>
</html>
