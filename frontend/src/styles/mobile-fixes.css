/* Mobile Fixes for Agroisync */

/* Fix for Turnstile on mobile */
.cf-turnstile {
  width: 100% !important;
  max-width: 100% !important;
  overflow: hidden !important;
  transform: scale(0.9) !important;
  transform-origin: center !important;
}

.cf-turnstile iframe {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 200px !important;
  height: 65px !important;
}

/* Fix for Turnstile container */
@media (max-width: 768px) {
  .cf-turnstile {
    transform: scale(0.8) !important;
    margin: 0.5rem 0 !important;
  }
}

/* Fix for images on mobile */
@media (max-width: 768px) {
  .product-image img,
  .hero-image,
  .background-image {
    background-attachment: scroll !important;
    background-size: cover !important;
    background-position: center !important;
  }

  /* Fix for background images that don't show on mobile */
  .hero-section {
    background-image: url('https://images.unsplash.com/photo-1600747476236-76579658b1b1?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8Q0FNUE8lMjBERSUyMFNPSkF8ZW58MHx8MHx8fDA%3D') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
}

/* Fix for error borders on mobile - only for form errors */
@media (max-width: 768px) {
  /* Only fix form error borders, keep price indicators normal */
  .border-red-300,
  .border-red-400,
  .border-red-500 {
    border-color: #fca5a5 !important;
  }

  /* Keep price change indicators red for visibility */
  .text-red-500,
  .text-red-600 {
    color: #ef4444 !important;
  }

  /* Fix for footer specific red lines */
  footer * {
    border-color: #e5e7eb !important;
  }

  /* Fix for error states that might show red */
  .error,
  .invalid,
  .danger {
    border-color: #fca5a5 !important;
    color: #dc2626 !important;
    background-color: #fef2f2 !important;
  }

  /* Fix for red squares/boxes that might appear */
  .bg-red-100,
  .bg-red-200,
  .bg-red-300,
  .bg-red-400,
  .bg-red-500 {
    background-color: transparent !important;
  }

  /* Fix for red borders that might create squares */
  .border-red-100,
  .border-red-200,
  .border-red-300,
  .border-red-400,
  .border-red-500 {
    border-color: #e5e7eb !important;
  }

  /* MOBILE SPECIFIC: Remove ANY red borders/outlines that might appear */
  *[style*="border"][style*="red"],
  *[style*="border-color: red"],
  *[style*="border: 1px solid red"],
  *[style*="border: 2px solid red"],
  *[style*="outline"][style*="red"],
  *[style*="outline-color: red"] {
    border-color: #e5e7eb !important;
    outline-color: #e5e7eb !important;
  }

  /* Force remove red from ANY Tailwind class that might appear */
  [class*="border-red"],
  [class*="ring-red"],
  [class*="outline-red"] {
    border-color: #e5e7eb !important;
    outline-color: #e5e7eb !important;
    --tw-ring-color: #e5e7eb !important;
  }

  /* ULTRA AGRESSIVO: Remove QUALQUER borda vermelha - MESMAS REGRAS DO DESKTOP */
  * {
    border-color: inherit !important;
  }

  /* Remove especificamente bordas e outlines vermelhas com seletores agressivos */
  [style*="border"][style*="red"],
  [style*="border"][style*="Red"],
  [style*="border"][style*="RED"],
  [style*="border"][style*="rgb(255, 0, 0)"],
  [style*="border"][style*="rgb(239, 68, 68)"],
  [style*="border"][style*="#ff0000"],
  [style*="border"][style*="#ef4444"],
  [style*="border"][style*="#dc2626"],
  [style*="border"][style*="#b91c1c"],
  [style*="outline"][style*="red"],
  [style*="outline"][style*="Red"],
  [style*="outline"][style*="RED"],
  [style*="outline"][style*="rgb(255, 0, 0)"],
  [style*="outline"][style*="rgb(239, 68, 68)"] {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Remove rings vermelhos do Tailwind */
  .ring-red-50, .ring-red-100, .ring-red-200, .ring-red-300, .ring-red-400,
  .ring-red-500, .ring-red-600, .ring-red-700, .ring-red-800, .ring-red-900, .ring-red {
    --tw-ring-color: transparent !important;
    box-shadow: none !important;
  }

  /* Remove outlines vermelhos */
  .outline-red-50, .outline-red-100, .outline-red-200, .outline-red-300, .outline-red-400,
  .outline-red-500, .outline-red-600, .outline-red-700, .outline-red-800, .outline-red-900, .outline-red {
    outline-color: transparent !important;
  }

  /* Remove dividers vermelhos */
  .divide-red-50 > * + *, .divide-red-100 > * + *, .divide-red-200 > * + *,
  .divide-red-300 > * + *, .divide-red-400 > * + *, .divide-red-500 > * + *,
  .divide-red-600 > * + *, .divide-red-700 > * + *, .divide-red-800 > * + *,
  .divide-red-900 > * + * {
    border-color: transparent !important;
  }

  /* GRAINS CHART SPECIFIC: Force remove red borders/backgrounds */
  .grains-chart,
  .grains-chart *,
  [data-testid*="grains"],
  [class*="grains"],
  .recharts-wrapper,
  .recharts-wrapper * {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Force override red colors in charts */
  .recharts-wrapper .text-red-500,
  .recharts-wrapper .text-red-600,
  .grains-chart .text-red-500,
  .grains-chart .text-red-600 {
    color: #ef4444 !important; /* Manter texto vermelho para variações negativas */
    border: none !important;
    background: transparent !important;
  }

  /* Remove ANY background red that might appear as squares */
  .bg-red-50, .bg-red-100, .bg-red-200, .bg-red-300, .bg-red-400,
  .bg-red-500, .bg-red-600, .bg-red-700, .bg-red-800, .bg-red-900 {
    background-color: transparent !important;
    border: none !important;
    outline: none !important;
  }
}

/* Fix for form elements on mobile */
@media (max-width: 768px) {
  input,
  textarea,
  select {
    border: 1px solid #d1d5db !important;
    border-radius: 8px !important;
    padding: 12px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
  }

  input:focus,
  textarea:focus,
  select:focus {
    border-color: #10b981 !important;
    outline: none !important;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  /* Fix for iOS input zoom */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  input[type='tel'],
  input[type='number'] {
    font-size: 16px !important;
    transform: translateZ(0) !important;
  }
}

/* Fix for buttons on mobile */
@media (max-width: 768px) {
  button,
  .btn {
    min-height: 44px !important; /* iOS touch target */
    min-width: 44px !important;
    padding: 12px 16px !important;
    font-size: 16px !important;
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }

  /* Fix for button active states */
  button:active,
  .btn:active {
    transform: scale(0.98) !important;
    transition: transform 0.1s ease !important;
  }
}

/* Fix for text on mobile */
@media (max-width: 768px) {
  body {
    font-size: 16px !important;
    line-height: 1.5 !important;
  }

  h1 {
    font-size: 2rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
  }

  h3 {
    font-size: 1.25rem !important;
  }
}

/* Fix for containers on mobile */
@media (max-width: 768px) {
  .container {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }

  .px-4 {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }

  .px-6 {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }
}

/* Fix for grid layouts on mobile */
@media (max-width: 768px) {
  .grid-cols-2 {
    grid-template-columns: 1fr !important;
  }

  .grid-cols-3 {
    grid-template-columns: 1fr !important;
  }

  .grid-cols-4 {
    grid-template-columns: 1fr !important;
  }
}

/* Fix for flex layouts on mobile */
@media (max-width: 768px) {
  .flex-row {
    flex-direction: column !important;
  }

  .space-x-4 > * + * {
    margin-left: 0 !important;
    margin-top: 1rem !important;
  }

  .space-x-6 > * + * {
    margin-left: 0 !important;
    margin-top: 1.5rem !important;
  }
}

/* Fix for shadows and effects on mobile */
@media (max-width: 768px) {
  .shadow-lg,
  .shadow-xl {
    box-shadow:
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
  }
}

/* Fix for animations on mobile */
@media (max-width: 768px) {
  * {
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }
}

/* Fix for overflow on mobile */
@media (max-width: 768px) {
  body {
    overflow-x: hidden !important;
    position: relative !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .overflow-hidden {
    overflow: hidden !important;
  }

  /* Fix for scroll issues */
  html {
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;
  }

  /* Fix for iOS bounce scroll */
  body {
    overscroll-behavior: none !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Fix for z-index issues on mobile */
@media (max-width: 768px) {
  .z-50 {
    z-index: 50 !important;
  }

  .z-40 {
    z-index: 40 !important;
  }

  .z-30 {
    z-index: 30 !important;
  }
}

/* Fix for touch events on mobile */
@media (max-width: 768px) {
  * {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
  }

  /* Fix for long press issues */
  a,
  button,
  input,
  textarea,
  select {
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }

  /* Allow text selection in inputs */
  input,
  textarea {
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
    user-select: text !important;
  }
}

/* Fix for keyboard issues on mobile */
@media (max-width: 768px) {
  /* Prevent zoom on input focus */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  input[type='tel'],
  input[type='number'],
  textarea,
  select {
    font-size: 16px !important;
    transform: translateZ(0) !important;
  }

  /* Fix for viewport height issues */
  .min-h-screen {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }

  /* Fix for safe area insets */
  .safe-area-inset {
    padding-top: env(safe-area-inset-top) !important;
    padding-bottom: env(safe-area-inset-bottom) !important;
    padding-left: env(safe-area-inset-left) !important;
    padding-right: env(safe-area-inset-right) !important;
  }
}

/* MOBILE SPECIFIC: Fix for animations and footer speed */
@media (max-width: 768px) {
  /* Slow down ALL Framer Motion animations */
  [data-framer-name],
  .framer-motion,
  [style*="transform"],
  [style*="transition"] {
    animation-duration: 0.8s !important;
    transition-duration: 0.8s !important;
  }

  /* Footer specific: Reduce animation speed drastically */
  footer,
  footer *,
  [data-testid="footer"],
  .footer {
    animation-duration: 3s !important;
    transition-duration: 3s !important;
    transform: none !important;
    animation-timing-function: ease-out !important;
    transition-timing-function: ease-out !important;
  }

  /* Force disable ALL fast animations on footer */
  footer [style*="animation"],
  footer [style*="transform"],
  footer [style*="transition"] {
    animation: none !important;
    transform: none !important;
    transition: all 2s ease-out !important;
  }

  /* ULTRA AGRESSIVO: Desacelerar TODAS as animações do Framer Motion no footer */
  footer [data-framer-name],
  footer .framer-motion,
  footer [data-framer-appear-id],
  footer [data-projection-id] {
    animation: none !important;
    transform: none !important;
    transition: all 3s ease-out !important;
    will-change: auto !important;
  }

  /* Disable motion completely for footer on mobile */
  footer * {
    animation-play-state: paused !important;
    animation-duration: 5s !important;
    transition-duration: 3s !important;
  }

  /* ESPECÍFICO: Corrigir transition-colors no footer */
  footer .transition-colors,
  footer [class*="transition"] {
    transition: none !important;
    transition-duration: 0s !important;
  }

  /* ESPECÍFICO: GrainsChart - remover bordas vermelhas do span de variação */
  .grains-chart span[class*="text-red"],
  [class*="grains"] span[class*="text-red"],
  .recharts-wrapper span[class*="text-red"] {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* ESPECÍFICO: AIChatbot - desacelerar animações Framer Motion */
  [class*="messaging"] .motion-div,
  [class*="chat"] .motion-div,
  [data-framer-appear-id] {
    animation-duration: 2s !important;
    transition-duration: 2s !important;
  }

  /* Force override any fast animations */
  [style*="animation-duration"],
  [style*="transition-duration"] {
    animation-duration: 1s !important;
    transition-duration: 1s !important;
  }
}

/* MOBILE ULTRA DRÁSTICO: Aplicar EXATAMENTE as mesmas regras que funcionaram no desktop */
@media (max-width: 768px) {
  /* Remove QUALQUER validação de formulário que adicione bordas vermelhas */
  input:invalid,
  textarea:invalid,
  select:invalid,
  .invalid,
  .error,
  .is-invalid,
  [aria-invalid="true"] {
    border-color: #d1d5db !important;
    outline-color: #d1d5db !important;
    box-shadow: none !important;
  }

  /* Remove estilos de validação HTML5 */
  input:invalid,
  input:out-of-range,
  input:required:invalid {
    border-color: #d1d5db !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Force override QUALQUER elemento com estilo inline vermelho */
  *[style*="border-color: red"],
  *[style*="border-color:red"],
  *[style*="border-color:#ff0000"],
  *[style*="border-color:#ef4444"],
  *[style*="border-color: #dc2626"],
  *[style*="border: 1px solid red"],
  *[style*="border:1px solid red"],
  *[style*="outline-color: red"],
  *[style*="outline-color:red"] {
    border-color: #e5e7eb !important;
    outline-color: #e5e7eb !important;
    border: 1px solid #e5e7eb !important;
    outline: none !important;
  }

  /* Remove QUALQUER ::before ou ::after que possa ter borda vermelha */
  *::before,
  *::after {
    border-color: inherit !important;
    outline-color: inherit !important;
  }

  /* Force override elementos específicos que podem ter bordas vermelhas */
  .StockTicker,
  .StockTicker *,
  .GrainsChart,
  .GrainsChart *,
  .Header,
  .Header *,
  .Footer,
  .Footer * {
    border-color: #e5e7eb !important;
    outline-color: #e5e7eb !important;
    box-shadow: none !important;
  }
}
