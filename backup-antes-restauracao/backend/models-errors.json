[
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\AuditLog.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Chat.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'id' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 7,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿// Modelo Chat - arquivo temporÃ¡rio para deploy\nexport default class Chat {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  static findById(id) {\n    return null;\n  }\n\n  static create(data) {\n    return new Chat(data);\n  }\n\n  save() {\n    return this;\n  }\n}\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Client.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\ContactMessage.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Conversation.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Escrow.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\EscrowTransaction.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Freight.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\FreightOrder.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'id' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 7,
        "column": 19,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 21
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'userId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 11,
        "column": 21,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 11,
        "endColumn": 27
      },
      {
        "ruleId": "require-await",
        "severity": 1,
        "message": "Async method 'save' has no 'await' expression.",
        "line": 19,
        "column": 3,
        "nodeType": "FunctionExpression",
        "messageId": "missingAwait",
        "endLine": 19,
        "endColumn": 13
      },
      {
        "ruleId": "require-await",
        "severity": 1,
        "message": "Async method 'update' has no 'await' expression.",
        "line": 23,
        "column": 3,
        "nodeType": "FunctionExpression",
        "messageId": "missingAwait",
        "endLine": 23,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿// Modelo FreightOrder - arquivo temporÃ¡rio para deploy\nexport default class FreightOrder {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  static findById(id) {\n    return null;\n  }\n\n  static findByUser(userId) {\n    return [];\n  }\n\n  static create(data) {\n    return new FreightOrder(data);\n  }\n\n  async save() {\n    return this;\n  }\n\n  async update(data) {\n    Object.assign(this, data);\n    return this;\n  }\n}\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Message.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\News.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Notification.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Partner.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\PartnershipMessage.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\PasswordResetD1.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Payment.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\PrivateMessage.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Product.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\RefreshToken.js",
    "messages": [
      {
        "ruleId": "require-await",
        "severity": 1,
        "message": "Async function has no 'await' expression.",
        "line": 95,
        "column": 50,
        "nodeType": "FunctionExpression",
        "messageId": "missingAwait",
        "endLine": 95,
        "endColumn": 65
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿import mongoose from 'mongoose';\n\nconst refreshTokenSchema = new mongoose.Schema(\n  {\n    userId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User',\n      required: true,\n      index: true\n    },\n    token: {\n      type: String,\n      required: true,\n      unique: true,\n      index: true\n    },\n    jwtToken: {\n      type: String,\n      required: true\n    },\n    expiresAt: {\n      type: Date,\n      required: true,\n      index: { expireAfterSeconds: 0 } // TTL index\n    },\n    userAgent: {\n      type: String,\n      default: null\n    },\n    ipAddress: {\n      type: String,\n      default: null\n    },\n    isActive: {\n      type: Boolean,\n      default: true,\n      index: true\n    },\n    createdAt: {\n      type: Date,\n      default: Date.now\n    },\n    lastUsedAt: {\n      type: Date,\n      default: null\n    },\n    revokedAt: {\n      type: Date,\n      default: null\n    }\n  },\n  {\n    timestamps: true\n  }\n);\n\n// Ãndices compostos para performance\nrefreshTokenSchema.index({ userId: 1, isActive: 1 });\nrefreshTokenSchema.index({ token: 1, isActive: 1 });\nrefreshTokenSchema.index({ expiresAt: 1, isActive: 1 });\n\n// MÃ©todo para verificar se o token estÃ¡ vÃ¡lido\nrefreshTokenSchema.methods.isValid = function () {\n  return this.isActive && this.expiresAt > new Date();\n};\n\n// MÃ©todo para revogar o token\nrefreshTokenSchema.methods.revoke = function () {\n  this.isActive = false;\n  this.revokedAt = new Date();\n  return this.save();\n};\n\n// MÃ©todo estÃ¡tico para limpar tokens expirados\nrefreshTokenSchema.statics.cleanupExpired = async function () {\n  const result = await this.deleteMany({\n    $or: [\n      { expiresAt: { $lt: new Date() } },\n      { isActive: false, revokedAt: { $lt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000) } }\n    ]\n  });\n  return result.deletedCount;\n};\n\n// MÃ©todo estÃ¡tico para revogar todos os tokens de um usuÃ¡rio\nrefreshTokenSchema.statics.revokeUserTokens = async function (userId) {\n  const result = await this.updateMany(\n    { userId, isActive: true },\n    { isActive: false, revokedAt: new Date() }\n  );\n  return result.modifiedCount;\n};\n\n// MÃ©todo estÃ¡tico para obter tokens ativos de um usuÃ¡rio\nrefreshTokenSchema.statics.getActiveUserTokens = async function (userId) {\n  return this.find({\n    userId,\n    isActive: true,\n    expiresAt: { $gt: new Date() }\n  }).sort({ createdAt: -1 });\n};\n\n// Middleware para atualizar lastUsedAt\nrefreshTokenSchema.pre('save', function (next) {\n  if (this.isModified('lastUsedAt') && this.lastUsedAt) {\n    this.lastUsedAt = new Date();\n  }\n  next();\n});\n\nconst RefreshToken = mongoose.model('RefreshToken', refreshTokenSchema);\n\nexport default RefreshToken;\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Registration.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'bcrypt' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 13
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 969,
        "column": 12,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 969,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [16958, 16958], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 975,
        "column": 21,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 975,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [17130, 17130], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 981,
        "column": 12,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 981,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [17243, 17243], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 987,
        "column": 21,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 987,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [17412, 17412], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 1005,
        "column": 12,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 1005,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [17742, 17742], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 1012,
        "column": 18,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 1012,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [17934, 17934], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 1020,
        "column": 12,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 1020,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [18064, 18064], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      },
      {
        "ruleId": "radix",
        "severity": 1,
        "message": "Missing radix parameter.",
        "line": 1027,
        "column": 21,
        "nodeType": "CallExpression",
        "messageId": "missingRadix",
        "endLine": 1027,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "addRadixParameter10",
            "fix": { "range": [18255, 18255], "text": ", 10" },
            "desc": "Add radix parameter `10` for parsing decimal numbers."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 9,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿const mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\n\n// Schema para cadastros de AgroConecta\nconst agroConectaSchema = new mongoose.Schema(\n  {\n    // Dados bÃ¡sicos\n    name: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    email: {\n      type: String,\n      required: true,\n      unique: true,\n      lowercase: true,\n      trim: true\n    },\n    phone: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cpf: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n\n    // Dados da empresa\n    companyName: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cnpj: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n    ie: {\n      type: String,\n      trim: true\n    },\n\n    // EndereÃ§o\n    address: {\n      cep: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      street: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      number: {\n        type: String,\n        trim: true\n      },\n      complement: {\n        type: String,\n        trim: true\n      },\n      neighborhood: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      city: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      state: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      country: {\n        type: String,\n        default: 'Brasil',\n        trim: true\n      },\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    },\n\n    // Dados do veÃ­culo\n    vehicle: {\n      plate: {\n        type: String,\n        required: true,\n        unique: true,\n        trim: true\n      },\n      type: {\n        type: String,\n        required: true,\n        enum: ['truck', 'tractor', 'van', 'pickup']\n      },\n      capacity: {\n        type: Number,\n        required: true,\n        min: 0\n      },\n      license: {\n        type: String,\n        required: true,\n        enum: ['B', 'C', 'D', 'E']\n      },\n      year: {\n        type: Number,\n        min: 1900,\n        max: new Date().getFullYear() + 1\n      },\n      model: {\n        type: String,\n        trim: true\n      },\n      brand: {\n        type: String,\n        trim: true\n      }\n    },\n\n    // ServiÃ§os oferecidos\n    services: [\n      {\n        id: {\n          type: String,\n          required: true\n        },\n        name: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        description: {\n          type: String,\n          trim: true\n        },\n        price: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        unit: {\n          type: String,\n          default: 'km',\n          trim: true\n        },\n        isCustom: {\n          type: Boolean,\n          default: false\n        }\n      }\n    ],\n\n    // Plano e configuraÃ§Ãµes\n    plan: {\n      type: String,\n      required: true,\n      enum: ['basic', 'standard', 'premium'],\n      default: 'basic'\n    },\n    isPublic: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: true\n    },\n\n    // Dados de pagamento\n    payment: {\n      stripeCustomerId: {\n        type: String,\n        trim: true\n      },\n      subscriptionId: {\n        type: String,\n        trim: true\n      },\n      lastPayment: {\n        type: Date\n      },\n      nextPayment: {\n        type: Date\n      }\n    },\n\n    // EstatÃ­sticas\n    stats: {\n      totalJobs: {\n        type: Number,\n        default: 0\n      },\n      completedJobs: {\n        type: Number,\n        default: 0\n      },\n      rating: {\n        type: Number,\n        default: 0,\n        min: 0,\n        max: 5\n      },\n      reviews: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    // Metadados\n    autoFilled: {\n      cpf: {\n        type: Boolean,\n        default: false\n      },\n      cnpj: {\n        type: Boolean,\n        default: false\n      },\n      address: {\n        type: Boolean,\n        default: false\n      }\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\n// Schema para cadastros de Loja\nconst lojaSchema = new mongoose.Schema(\n  {\n    // Dados bÃ¡sicos\n    name: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    email: {\n      type: String,\n      required: true,\n      unique: true,\n      lowercase: true,\n      trim: true\n    },\n    phone: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cpf: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n\n    // Dados da empresa\n    companyName: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cnpj: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n    ie: {\n      type: String,\n      trim: true\n    },\n\n    // EndereÃ§o\n    address: {\n      cep: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      street: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      number: {\n        type: String,\n        trim: true\n      },\n      complement: {\n        type: String,\n        trim: true\n      },\n      neighborhood: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      city: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      state: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      country: {\n        type: String,\n        default: 'Brasil',\n        trim: true\n      },\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    },\n\n    // Produtos\n    products: [\n      {\n        id: {\n          type: String,\n          required: true\n        },\n        name: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        category: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        description: {\n          type: String,\n          trim: true\n        },\n        price: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        quantity: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        unit: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        image: {\n          type: String,\n          trim: true\n        },\n        isCustom: {\n          type: Boolean,\n          default: false\n        },\n        isAvailable: {\n          type: Boolean,\n          default: true\n        }\n      }\n    ],\n\n    // Plano e configuraÃ§Ãµes\n    plan: {\n      type: String,\n      required: true,\n      enum: ['basic', 'standard', 'premium'],\n      default: 'basic'\n    },\n    isPublic: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: true\n    },\n\n    // Dados de pagamento\n    payment: {\n      stripeCustomerId: {\n        type: String,\n        trim: true\n      },\n      subscriptionId: {\n        type: String,\n        trim: true\n      },\n      lastPayment: {\n        type: Date\n      },\n      nextPayment: {\n        type: Date\n      }\n    },\n\n    // EstatÃ­sticas\n    stats: {\n      totalSales: {\n        type: Number,\n        default: 0\n      },\n      completedOrders: {\n        type: Number,\n        default: 0\n      },\n      rating: {\n        type: Number,\n        default: 0,\n        min: 0,\n        max: 5\n      },\n      reviews: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    // Metadados\n    autoFilled: {\n      cpf: {\n        type: Boolean,\n        default: false\n      },\n      cnpj: {\n        type: Boolean,\n        default: false\n      },\n      address: {\n        type: Boolean,\n        default: false\n      }\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\n// Schema para cadastros de Marketplace\nconst marketplaceSchema = new mongoose.Schema(\n  {\n    // Dados bÃ¡sicos\n    name: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    email: {\n      type: String,\n      required: true,\n      unique: true,\n      lowercase: true,\n      trim: true\n    },\n    phone: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cpf: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n\n    // Dados da empresa\n    companyName: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cnpj: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n    ie: {\n      type: String,\n      trim: true\n    },\n\n    // EndereÃ§o\n    address: {\n      cep: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      street: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      number: {\n        type: String,\n        trim: true\n      },\n      complement: {\n        type: String,\n        trim: true\n      },\n      neighborhood: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      city: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      state: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      country: {\n        type: String,\n        default: 'Brasil',\n        trim: true\n      },\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    },\n\n    // Produtos/ServiÃ§os\n    offerings: [\n      {\n        type: {\n          type: String,\n          required: true,\n          enum: ['product', 'service']\n        },\n        id: {\n          type: String,\n          required: true\n        },\n        name: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        category: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        description: {\n          type: String,\n          trim: true\n        },\n        price: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        quantity: {\n          type: Number,\n          default: 1,\n          min: 0\n        },\n        unit: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        image: {\n          type: String,\n          trim: true\n        },\n        isCustom: {\n          type: Boolean,\n          default: false\n        },\n        isAvailable: {\n          type: Boolean,\n          default: true\n        }\n      }\n    ],\n\n    // Plano e configuraÃ§Ãµes\n    plan: {\n      type: String,\n      required: true,\n      enum: ['basic', 'standard', 'premium'],\n      default: 'basic'\n    },\n    isPublic: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: true\n    },\n\n    // Dados de pagamento\n    payment: {\n      stripeCustomerId: {\n        type: String,\n        trim: true\n      },\n      subscriptionId: {\n        type: String,\n        trim: true\n      },\n      lastPayment: {\n        type: Date\n      },\n      nextPayment: {\n        type: Date\n      }\n    },\n\n    // EstatÃ­sticas\n    stats: {\n      totalTransactions: {\n        type: Number,\n        default: 0\n      },\n      completedOrders: {\n        type: Number,\n        default: 0\n      },\n      rating: {\n        type: Number,\n        default: 0,\n        min: 0,\n        max: 5\n      },\n      reviews: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    // Metadados\n    autoFilled: {\n      cpf: {\n        type: Boolean,\n        default: false\n      },\n      cnpj: {\n        type: Boolean,\n        default: false\n      },\n      address: {\n        type: Boolean,\n        default: false\n      }\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\n// Schema para cadastros de Fazenda\nconst fazendaSchema = new mongoose.Schema(\n  {\n    // Dados bÃ¡sicos\n    name: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    email: {\n      type: String,\n      required: true,\n      unique: true,\n      lowercase: true,\n      trim: true\n    },\n    phone: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    cpf: {\n      type: String,\n      required: true,\n      unique: true,\n      trim: true\n    },\n\n    // Dados da fazenda\n    farmName: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    farmSize: {\n      type: Number,\n      required: true,\n      min: 0\n    },\n    farmType: {\n      type: String,\n      enum: ['agriculture', 'livestock', 'mixed'],\n      default: 'agriculture'\n    },\n\n    // EndereÃ§o\n    address: {\n      cep: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      street: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      number: {\n        type: String,\n        trim: true\n      },\n      complement: {\n        type: String,\n        trim: true\n      },\n      neighborhood: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      city: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      state: {\n        type: String,\n        required: true,\n        trim: true\n      },\n      country: {\n        type: String,\n        default: 'Brasil',\n        trim: true\n      },\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    },\n\n    // Produtos da fazenda\n    products: [\n      {\n        id: {\n          type: String,\n          required: true\n        },\n        name: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        category: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        description: {\n          type: String,\n          trim: true\n        },\n        price: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        quantity: {\n          type: Number,\n          required: true,\n          min: 0\n        },\n        unit: {\n          type: String,\n          required: true,\n          trim: true\n        },\n        harvestDate: {\n          type: Date\n        },\n        image: {\n          type: String,\n          trim: true\n        },\n        isCustom: {\n          type: Boolean,\n          default: false\n        },\n        isAvailable: {\n          type: Boolean,\n          default: true\n        }\n      }\n    ],\n\n    // Plano e configuraÃ§Ãµes\n    plan: {\n      type: String,\n      required: true,\n      enum: ['basic', 'standard', 'premium'],\n      default: 'basic'\n    },\n    isPublic: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: true\n    },\n\n    // Dados de pagamento\n    payment: {\n      stripeCustomerId: {\n        type: String,\n        trim: true\n      },\n      subscriptionId: {\n        type: String,\n        trim: true\n      },\n      lastPayment: {\n        type: Date\n      },\n      nextPayment: {\n        type: Date\n      }\n    },\n\n    // EstatÃ­sticas\n    stats: {\n      totalHarvests: {\n        type: Number,\n        default: 0\n      },\n      totalSales: {\n        type: Number,\n        default: 0\n      },\n      rating: {\n        type: Number,\n        default: 0,\n        min: 0,\n        max: 5\n      },\n      reviews: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    // Metadados\n    autoFilled: {\n      cpf: {\n        type: Boolean,\n        default: false\n      },\n      address: {\n        type: Boolean,\n        default: false\n      }\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\n// Middleware para validaÃ§Ã£o de dados\nagroConectaSchema.pre('save', function (next) {\n  // Validar CPF\n  if (this.cpf && !this.isValidCPF(this.cpf)) {\n    return next(new Error('CPF invÃ¡lido'));\n  }\n\n  // Validar CNPJ\n  if (this.cnpj && !this.isValidCNPJ(this.cnpj)) {\n    return next(new Error('CNPJ invÃ¡lido'));\n  }\n\n  next();\n});\n\nlojaSchema.pre('save', function (next) {\n  if (this.cpf && !this.isValidCPF(this.cpf)) {\n    return next(new Error('CPF invÃ¡lido'));\n  }\n\n  if (this.cnpj && !this.isValidCNPJ(this.cnpj)) {\n    return next(new Error('CNPJ invÃ¡lido'));\n  }\n\n  next();\n});\n\nmarketplaceSchema.pre('save', function (next) {\n  if (this.cpf && !this.isValidCPF(this.cpf)) {\n    return next(new Error('CPF invÃ¡lido'));\n  }\n\n  if (this.cnpj && !this.isValidCNPJ(this.cnpj)) {\n    return next(new Error('CNPJ invÃ¡lido'));\n  }\n\n  next();\n});\n\nfazendaSchema.pre('save', function (next) {\n  if (this.cpf && !this.isValidCPF(this.cpf)) {\n    return next(new Error('CPF invÃ¡lido'));\n  }\n\n  next();\n});\n\n// MÃ©todos de validaÃ§Ã£o\nagroConectaSchema.methods.isValidCPF = function (cpf) {\n  cpf = cpf.replace(/[^\\d]/g, '');\n\n  if (cpf.length !== 11 || /^(\\d)\\1+$/.test(cpf)) {\n    return false;\n  }\n\n  let sum = 0;\n  for (let i = 0; i < 9; i++) {\n    sum += parseInt(cpf.charAt(i, 10, 10)) * (10 - i);\n  }\n  let remainder = (sum * 10) % 11;\n  if (remainder === 10 || remainder === 11) {\n    remainder = 0;\n  }\n  if (remainder !== parseInt(cpf.charAt(9, 10, 10))) {\n    return false;\n  }\n\n  sum = 0;\n  for (let i = 0; i < 10; i++) {\n    sum += parseInt(cpf.charAt(i, 10, 10)) * (11 - i);\n  }\n  remainder = (sum * 10) % 11;\n  if (remainder === 10 || remainder === 11) {\n    remainder = 0;\n  }\n  if (remainder !== parseInt(cpf.charAt(10, 10, 10))) {\n    return false;\n  }\n\n  return true;\n};\n\nagroConectaSchema.methods.isValidCNPJ = function (cnpj) {\n  cnpj = cnpj.replace(/[^\\d]/g, '');\n\n  if (cnpj.length !== 14 || /^(\\d)\\1+$/.test(cnpj)) {\n    return false;\n  }\n\n  let sum = 0;\n  let weight = 2;\n\n  for (let i = 11; i >= 0; i--) {\n    sum += parseInt(cnpj.charAt(i, 10, 10)) * weight;\n    weight = weight === 9 ? 2 : weight + 1;\n  }\n\n  let remainder = sum % 11;\n  const digit1 = remainder < 2 ? 0 : 11 - remainder;\n\n  if (digit1 !== parseInt(cnpj.charAt(12, 10, 10))) {\n    return false;\n  }\n\n  sum = 0;\n  weight = 2;\n\n  for (let i = 12; i >= 0; i--) {\n    sum += parseInt(cnpj.charAt(i, 10, 10)) * weight;\n    weight = weight === 9 ? 2 : weight + 1;\n  }\n\n  remainder = sum % 11;\n  const digit2 = remainder < 2 ? 0 : 11 - remainder;\n\n  return digit2 === parseInt(cnpj.charAt(13, 10, 10));\n};\n\n// Aplicar os mesmos mÃ©todos para os outros schemas\nlojaSchema.methods.isValidCPF = agroConectaSchema.methods.isValidCPF;\nlojaSchema.methods.isValidCNPJ = agroConectaSchema.methods.isValidCNPJ;\nmarketplaceSchema.methods.isValidCPF = agroConectaSchema.methods.isValidCPF;\nmarketplaceSchema.methods.isValidCNPJ = agroConectaSchema.methods.isValidCNPJ;\nfazendaSchema.methods.isValidCPF = agroConectaSchema.methods.isValidCPF;\n\n// Ãndices para otimizaÃ§Ã£o\nagroConectaSchema.index({ email: 1 });\nagroConectaSchema.index({ cpf: 1 });\nagroConectaSchema.index({ cnpj: 1 });\nagroConectaSchema.index({ 'address.city': 1, 'address.state': 1 });\nagroConectaSchema.index({ 'vehicle.type': 1 });\nagroConectaSchema.index({ plan: 1, isPublic: 1 });\n\nlojaSchema.index({ email: 1 });\nlojaSchema.index({ cpf: 1 });\nlojaSchema.index({ cnpj: 1 });\nlojaSchema.index({ 'address.city': 1, 'address.state': 1 });\nlojaSchema.index({ plan: 1, isPublic: 1 });\n\nmarketplaceSchema.index({ email: 1 });\nmarketplaceSchema.index({ cpf: 1 });\nmarketplaceSchema.index({ cnpj: 1 });\nmarketplaceSchema.index({ 'address.city': 1, 'address.state': 1 });\nmarketplaceSchema.index({ plan: 1, isPublic: 1 });\n\nfazendaSchema.index({ email: 1 });\nfazendaSchema.index({ cpf: 1 });\nfazendaSchema.index({ 'address.city': 1, 'address.state': 1 });\nfazendaSchema.index({ plan: 1, isPublic: 1 });\n\nconst AgroConecta = mongoose.model('AgroConecta', agroConectaSchema);\nconst Loja = mongoose.model('Loja', lojaSchema);\nconst Marketplace = mongoose.model('Marketplace', marketplaceSchema);\nconst Fazenda = mongoose.model('Fazenda', fazendaSchema);\n\nmodule.exports = {\n  AgroConecta,\n  Loja,\n  Marketplace,\n  Fazenda\n};\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\SecurityLog.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\StakingPool.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\StakingRecord.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Transaction.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\TransactionMessage.js",
    "messages": [
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'reason' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 244,
        "column": 59,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 244,
        "endColumn": 65
      },
      {
        "ruleId": "no-unused-vars",
        "severity": 1,
        "message": "'userId' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 275,
        "column": 58,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 275,
        "endColumn": 64
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿import mongoose from 'mongoose';\n\nconst transactionMessageSchema = new mongoose.Schema(\n  {\n    // ID da transaÃ§Ã£o relacionada\n    transactionId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Transaction',\n      required: true,\n      index: true\n    },\n\n    // UsuÃ¡rio que enviou a mensagem\n    from: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User',\n      required: true,\n      index: true\n    },\n\n    // UsuÃ¡rio que recebeu a mensagem\n    to: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User',\n      required: true,\n      index: true\n    },\n\n    // ConteÃºdo da mensagem\n    body: {\n      type: String,\n      required: true,\n      trim: true,\n      maxlength: [2000, 'Mensagem nÃ£o pode ter mais de 2000 caracteres']\n    },\n\n    // Tipo da mensagem\n    type: {\n      type: String,\n      enum: ['text', 'image', 'file', 'location', 'system'],\n      default: 'text'\n    },\n\n    // Anexos (opcional)\n    attachments: [\n      {\n        name: String,\n        type: String,\n        size: Number,\n        url: String,\n        thumbnail: String\n      }\n    ],\n\n    // Status da mensagem\n    status: {\n      type: String,\n      enum: ['sent', 'delivered', 'read', 'failed'],\n      default: 'sent',\n      index: true\n    },\n\n    // Metadados\n    metadata: {\n      // Coordenadas se for mensagem de localizaÃ§Ã£o\n      coordinates: {\n        lat: Number,\n        lng: Number,\n        address: String\n      },\n      // InformaÃ§Ãµes do arquivo se for anexo\n      fileInfo: {\n        originalName: String,\n        mimeType: String,\n        size: Number\n      }\n    },\n\n    // Timestamps\n    createdAt: {\n      type: Date,\n      default: Date.now,\n      index: true\n    },\n\n    // Quando foi entregue\n    deliveredAt: Date,\n\n    // Quando foi lida\n    readAt: Date,\n\n    // UsuÃ¡rios que leram a mensagem\n    readBy: [\n      {\n        userId: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'User'\n        },\n        readAt: {\n          type: Date,\n          default: Date.now\n        }\n      }\n    ],\n\n    // Mensagem pai (para respostas)\n    parentMessage: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'TransactionMessage'\n    },\n\n    // Mensagens filhas (respostas)\n    replies: [\n      {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'TransactionMessage'\n      }\n    ],\n\n    // Flags e moderaÃ§Ã£o\n    isFlagged: {\n      type: Boolean,\n      default: false\n    },\n\n    flaggedReason: String,\n\n    flaggedBy: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User'\n    },\n\n    flaggedAt: Date,\n\n    // Soft delete\n    isDeleted: {\n      type: Boolean,\n      default: false\n    },\n\n    deletedAt: Date,\n\n    deletedBy: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User'\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\n// Ãndices para performance\ntransactionMessageSchema.index({ transactionId: 1, createdAt: -1 });\ntransactionMessageSchema.index({ from: 1, createdAt: -1 });\ntransactionMessageSchema.index({ to: 1, createdAt: -1 });\ntransactionMessageSchema.index({ status: 1, createdAt: -1 });\ntransactionMessageSchema.index({ 'readBy.userId': 1 });\ntransactionMessageSchema.index({ isDeleted: 1 });\n\n// Middleware para atualizar timestamps\ntransactionMessageSchema.pre('save', function (next) {\n  if (this.isModified('status')) {\n    if (this.status === 'delivered' && !this.deliveredAt) {\n      this.deliveredAt = new Date();\n    }\n    if (this.status === 'read' && !this.readAt) {\n      this.readAt = new Date();\n    }\n  }\n  next();\n});\n\n// Virtual para verificar se a mensagem foi lida\ntransactionMessageSchema.virtual('isRead').get(function () {\n  return this.status === 'read';\n});\n\n// Virtual para verificar se a mensagem foi entregue\ntransactionMessageSchema.virtual('isDelivered').get(function () {\n  return this.status === 'delivered' || this.status === 'read';\n});\n\n// Virtual para verificar se a mensagem falhou\ntransactionMessageSchema.virtual('isFailed').get(function () {\n  return this.status === 'failed';\n});\n\n// Virtual para verificar se tem anexos\ntransactionMessageSchema.virtual('hasAttachments').get(function () {\n  return this.attachments && this.attachments.length > 0;\n});\n\n// Virtual para verificar se Ã© imagem\ntransactionMessageSchema.virtual('isImage').get(function () {\n  return this.type === 'image';\n});\n\n// Virtual para verificar se Ã© arquivo\ntransactionMessageSchema.virtual('isFile').get(function () {\n  return this.type === 'file';\n});\n\n// Virtual para verificar se Ã© localizaÃ§Ã£o\ntransactionMessageSchema.virtual('isLocation').get(function () {\n  return this.type === 'location';\n});\n\n// Virtual para verificar se Ã© sistema\ntransactionMessageSchema.virtual('isSystem').get(function () {\n  return this.type === 'system';\n});\n\n// MÃ©todo para marcar como entregue\ntransactionMessageSchema.methods.markAsDelivered = function () {\n  this.status = 'delivered';\n  this.deliveredAt = new Date();\n  return this.save();\n};\n\n// MÃ©todo para marcar como lida\ntransactionMessageSchema.methods.markAsRead = function (userId) {\n  if (this.status !== 'read') {\n    this.status = 'read';\n    this.readAt = new Date();\n  }\n\n  // Adicionar usuÃ¡rio Ã  lista de leitores se nÃ£o estiver\n  const alreadyRead = this.readBy.find(reader => reader.userId.toString() === userId.toString());\n\n  if (!alreadyRead) {\n    this.readBy.push({\n      userId,\n      readAt: new Date()\n    });\n  }\n\n  return this.save();\n};\n\n// MÃ©todo para marcar como falhou\ntransactionMessageSchema.methods.markAsFailed = function (reason = 'Erro de entrega') {\n  this.status = 'failed';\n  return this.save();\n};\n\n// MÃ©todo para verificar se foi lida por um usuÃ¡rio especÃ­fico\ntransactionMessageSchema.methods.isReadBy = function (userId) {\n  return this.readBy.some(reader => reader.userId.toString() === userId.toString());\n};\n\n// MÃ©todo para obter dados pÃºblicos (sem informaÃ§Ãµes sensÃ­veis)\ntransactionMessageSchema.methods.getPublicData = function () {\n  return {\n    id: this._id,\n    transactionId: this.transactionId,\n    from: this.from,\n    to: this.to,\n    body: this.body,\n    type: this.type,\n    status: this.status,\n    hasAttachments: this.hasAttachments,\n    createdAt: this.createdAt,\n    deliveredAt: this.deliveredAt,\n    readAt: this.readAt,\n    isRead: this.isRead,\n    isDelivered: this.isDelivered,\n    isFailed: this.isFailed\n  };\n};\n\n// MÃ©todo para obter dados completos (para usuÃ¡rios autorizados)\ntransactionMessageSchema.methods.getFullData = function (userId) {\n  const baseData = this.getPublicData();\n\n  // Adicionar anexos se existirem\n  if (this.attachments && this.attachments.length > 0) {\n    baseData.attachments = this.attachments;\n  }\n\n  // Adicionar metadados se existirem\n  if (this.metadata) {\n    baseData.metadata = this.metadata;\n  }\n\n  // Adicionar informaÃ§Ãµes de leitura\n  baseData.readBy = this.readBy;\n\n  // Adicionar informaÃ§Ãµes de resposta\n  if (this.parentMessage) {\n    baseData.parentMessage = this.parentMessage;\n  }\n\n  if (this.replies && this.replies.length > 0) {\n    baseData.replies = this.replies;\n  }\n\n  return baseData;\n};\n\n// MÃ©todo para obter dados de exibiÃ§Ã£o (para UI)\ntransactionMessageSchema.methods.getDisplayData = function (currentUserId) {\n  const baseData = this.getPublicData();\n\n  // Adicionar flag se Ã© mensagem do usuÃ¡rio atual\n  baseData.isOwnMessage = this.from.toString() === currentUserId.toString();\n\n  // Adicionar informaÃ§Ãµes de anexos para exibiÃ§Ã£o\n  if (this.attachments && this.attachments.length > 0) {\n    baseData.attachments = this.attachments.map(attachment => ({\n      name: attachment.name,\n      type: attachment.type,\n      size: attachment.size,\n      url: attachment.url,\n      thumbnail: attachment.thumbnail,\n      isImage: attachment.type.startsWith('image/'),\n      isFile: !attachment.type.startsWith('image/')\n    }));\n  }\n\n  // Adicionar metadados de localizaÃ§Ã£o se aplicÃ¡vel\n  if (this.type === 'location' && this.metadata?.coordinates) {\n    baseData.location = {\n      lat: this.metadata.coordinates.lat,\n      lng: this.metadata.coordinates.lng,\n      address: this.metadata.coordinates.address\n    };\n  }\n\n  return baseData;\n};\n\n// MÃ©todos estÃ¡ticos para consultas comuns\n\n// Buscar mensagens de uma transaÃ§Ã£o\ntransactionMessageSchema.statics.findByTransaction = function (transactionId, options = {}) {\n  const { limit = 50, skip = 0, sort = { createdAt: -1 }, includeDeleted = false } = options;\n\n  const query = { transactionId };\n\n  if (!includeDeleted) {\n    query.isDeleted = false;\n  }\n\n  return this.find(query)\n    .sort(sort)\n    .skip(skip)\n    .limit(limit)\n    .populate('from', 'name email phone')\n    .populate('to', 'name email phone')\n    .populate('parentMessage')\n    .populate('replies');\n};\n\n// Buscar mensagens nÃ£o lidas de um usuÃ¡rio\ntransactionMessageSchema.statics.findUnreadByUser = function (userId, transactionId = null) {\n  const query = {\n    to: userId,\n    status: { $ne: 'read' },\n    isDeleted: false\n  };\n\n  if (transactionId) {\n    query.transactionId = transactionId;\n  }\n\n  return this.find(query)\n    .populate('from', 'name email phone')\n    .populate('transactionId', 'type itemDetails')\n    .sort({ createdAt: -1 });\n};\n\n// Buscar mensagens de um usuÃ¡rio\ntransactionMessageSchema.statics.findByUser = function (userId, options = {}) {\n  const {\n    limit = 50,\n    skip = 0,\n    sort = { createdAt: -1 },\n    includeDeleted = false,\n    transactionId = null\n  } = options;\n\n  const query = {\n    $or: [{ from: userId }, { to: userId }],\n    isDeleted: false\n  };\n\n  if (transactionId) {\n    query.transactionId = transactionId;\n  }\n\n  if (includeDeleted) {\n    delete query.isDeleted;\n  }\n\n  return this.find(query)\n    .sort(sort)\n    .skip(skip)\n    .limit(limit)\n    .populate('from', 'name email phone')\n    .populate('to', 'name email phone')\n    .populate('transactionId', 'type itemDetails');\n};\n\n// EstatÃ­sticas de mensagens\ntransactionMessageSchema.statics.getStats = async function (userId = null) {\n  const matchStage = userId ? { $or: [{ from: userId }, { to: userId }] } : {};\n\n  const stats = await this.aggregate([\n    { $match: { ...matchStage, isDeleted: false } },\n    {\n      $group: {\n        _id: null,\n        totalMessages: { $sum: 1 },\n        textMessages: {\n          $sum: { $cond: [{ $eq: ['$type', 'text'] }, 1, 0] }\n        },\n        imageMessages: {\n          $sum: { $cond: [{ $eq: ['$type', 'image'] }, 1, 0] }\n        },\n        fileMessages: {\n          $sum: { $cond: [{ $eq: ['$type', 'file'] }, 1, 0] }\n        },\n        locationMessages: {\n          $sum: { $cond: [{ $eq: ['$type', 'location'] }, 1, 0] }\n        },\n        systemMessages: {\n          $sum: { $cond: [{ $eq: ['$type', 'system'] }, 1, 0] }\n        },\n        sentMessages: {\n          $sum: { $cond: [{ $eq: ['$status', 'sent'] }, 1, 0] }\n        },\n        deliveredMessages: {\n          $sum: { $cond: [{ $eq: ['$status', 'delivered'] }, 1, 0] }\n        },\n        readMessages: {\n          $sum: { $cond: [{ $eq: ['$status', 'read'] }, 1, 0] }\n        },\n        failedMessages: {\n          $sum: { $cond: [{ $eq: ['$status', 'failed'] }, 1, 0] }\n        }\n      }\n    }\n  ]);\n\n  return (\n    stats[0] || {\n      totalMessages: 0,\n      textMessages: 0,\n      imageMessages: 0,\n      fileMessages: 0,\n      locationMessages: 0,\n      systemMessages: 0,\n      sentMessages: 0,\n      deliveredMessages: 0,\n      readMessages: 0,\n      failedMessages: 0\n    }\n  );\n};\n\n// Buscar conversas ativas de um usuÃ¡rio\ntransactionMessageSchema.statics.findActiveConversations = function (userId, limit = 20) {\n  return this.aggregate([\n    {\n      $match: {\n        $or: [{ from: userId }, { to: userId }],\n        isDeleted: false\n      }\n    },\n    {\n      $group: {\n        _id: '$transactionId',\n        lastMessage: { $last: '$$ROOT' },\n        messageCount: { $sum: 1 },\n        unreadCount: {\n          $sum: {\n            $cond: [{ $and: [{ $eq: ['$to', userId] }, { $ne: ['$status', 'read'] }] }, 1, 0]\n          }\n        }\n      }\n    },\n    {\n      $sort: { 'lastMessage.createdAt': -1 }\n    },\n    {\n      $limit: limit\n    },\n    {\n      $lookup: {\n        from: 'transactions',\n        localField: '_id',\n        foreignField: '_id',\n        as: 'transaction'\n      }\n    },\n    {\n      $unwind: '$transaction'\n    },\n    {\n      $lookup: {\n        from: 'users',\n        localField: 'lastMessage.from',\n        foreignField: '_id',\n        as: 'fromUser'\n      }\n    },\n    {\n      $unwind: '$fromUser'\n    },\n    {\n      $lookup: {\n        from: 'users',\n        localField: 'lastMessage.to',\n        foreignField: '_id',\n        as: 'toUser'\n      }\n    },\n    {\n      $unwind: '$toUser'\n    }\n  ]);\n};\n\nconst TransactionMessage = mongoose.model('TransactionMessage', transactionMessageSchema);\n\nexport default TransactionMessage;\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\User.js",
    "messages": [
      {
        "ruleId": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: Argument expression expected.",
        "line": 488,
        "column": 69,
        "nodeType": null
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "﻿import mongoose from 'mongoose';\nimport bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport crypto from 'crypto';\n\nimport logger from '../utils/logger.js';\nconst userSchema = new mongoose.Schema(\n  {\n    // InformaÃ§Ãµes bÃ¡sicas\n    name: {\n      type: String,\n      required: [true, 'Nome Ã© obrigatÃ³rio'],\n      trim: true,\n      maxlength: [100, 'Nome nÃ£o pode ter mais de 100 caracteres']\n    },\n    email: {\n      type: String,\n      required: [true, 'E-mail Ã© obrigatÃ³rio'],\n      unique: true,\n      lowercase: true,\n      trim: true,\n      match: [/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/, 'E-mail invÃ¡lido']\n    },\n    password: {\n      type: String,\n      required: [true, 'Senha Ã© obrigatÃ³ria'],\n      minlength: [8, 'Senha deve ter pelo menos 8 caracteres'],\n      select: false,\n      validate: {\n        validator(password) {\n          // ValidaÃ§Ã£o de senha forte\n          const strongPasswordRegex =\n            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n          return strongPasswordRegex.test(password);\n        },\n        message:\n          'Senha deve conter pelo menos: 8 caracteres, 1 letra minÃºscula, 1 maiÃºscula, 1 nÃºmero e 1 caractere especial'\n      }\n    },\n    phone: {\n      type: String,\n      trim: true,\n      match: [/^\\+?[\\d\\s\\-()]+$/, 'Telefone invÃ¡lido']\n    },\n\n    // InformaÃ§Ãµes de perfil\n    avatar: {\n      type: String,\n      default: null\n    },\n    bio: {\n      type: String,\n      maxlength: [500, 'Biografia nÃ£o pode ter mais de 500 caracteres']\n    },\n    location: {\n      address: String,\n      city: String,\n      state: String,\n      country: {\n        type: String,\n        default: 'Brasil'\n      },\n      zipCode: String,\n      coordinates: {\n        lat: Number,\n        lng: Number\n      }\n    },\n\n    // InformaÃ§Ãµes de negÃ³cio\n    businessType: {\n      type: String,\n      enum: ['producer', 'buyer', 'transporter', 'all'],\n      default: 'all'\n    },\n    businessName: String,\n    businessDocument: String, // CPF/CNPJ\n    businessLicense: String,\n\n    // Dados PII criptografados\n    piiData: {\n      // Documentos pessoais\n      cpf: {\n        type: String,\n        default: null\n      },\n      cnpj: {\n        type: String,\n        default: null\n      },\n      rg: {\n        type: String,\n        default: null\n      },\n      passport: {\n        type: String,\n        default: null\n      },\n\n      // InformaÃ§Ãµes financeiras\n      bankAccount: {\n        type: String,\n        default: null\n      },\n      creditCard: {\n        type: String,\n        default: null\n      },\n\n      // InformaÃ§Ãµes fiscais\n      taxId: {\n        type: String,\n        default: null\n      },\n      businessId: {\n        type: String,\n        default: null\n      },\n\n      // Metadados de criptografia\n      encryptionMetadata: {\n        algorithm: {\n          type: String,\n          default: 'aes-256-gcm'\n        },\n        keyVersion: {\n          type: String,\n          default: '1.0'\n        },\n        lastEncrypted: {\n          type: Date,\n          default: null\n        }\n      }\n    },\n\n    // ConfiguraÃ§Ãµes de conta\n    isEmailVerified: {\n      type: Boolean,\n      default: false\n    },\n    emailVerificationToken: String,\n    emailVerificationExpires: Date,\n    verificationCode: String,\n    codeExpires: Date,\n\n    isPhoneVerified: {\n      type: Boolean,\n      default: false\n    },\n    phoneVerificationCode: String,\n    phoneVerificationExpires: Date,\n\n    // 2FA\n    twoFactorEnabled: {\n      type: Boolean,\n      default: false\n    },\n    twoFactorSecret: String,\n    twoFactorBackupCodes: [String],\n\n    // PermissÃµes de administrador\n    isAdmin: {\n      type: Boolean,\n      default: false\n    },\n    adminPermissions: [\n      {\n        type: String,\n        enum: [\n          'users_read',\n          'users_write',\n          'users_delete',\n          'products_read',\n          'products_write',\n          'products_delete',\n          'payments_read',\n          'payments_write',\n          'payments_refund',\n          'registrations_read',\n          'registrations_write',\n          'registrations_approve',\n          'system_settings',\n          'system_backup',\n          'system_logs',\n          'system_maintenance',\n          'audit_logs',\n          'admin_users',\n          'admin_roles',\n          '*' // Super admin\n        ]\n      }\n    ],\n    adminRole: {\n      type: String,\n      enum: ['super_admin', 'admin', 'moderator', 'support'],\n      default: null\n    },\n    adminNotes: {\n      type: String,\n      maxlength: [1000, 'Notas administrativas nÃ£o podem ter mais de 1000 caracteres']\n    },\n\n    // Plano e pagamentos\n    plan: {\n      type: String,\n      enum: ['free', 'basic', 'pro', 'enterprise'],\n      default: 'free'\n    },\n    planExpiresAt: Date,\n    subscriptionId: String,\n    paymentMethod: String,\n\n    // ConfiguraÃ§Ãµes de privacidade\n    privacySettings: {\n      profileVisibility: {\n        type: String,\n        enum: ['public', 'private', 'contacts'],\n        default: 'public'\n      },\n      showEmail: {\n        type: Boolean,\n        default: false\n      },\n      showPhone: {\n        type: Boolean,\n        default: false\n      },\n      showLocation: {\n        type: Boolean,\n        default: true\n      },\n      allowMessages: {\n        type: Boolean,\n        default: true\n      },\n      allowNotifications: {\n        type: Boolean,\n        default: true\n      }\n    },\n\n    // ConfiguraÃ§Ãµes de notificaÃ§Ã£o\n    notificationSettings: {\n      email: {\n        type: Boolean,\n        default: true\n      },\n      sms: {\n        type: Boolean,\n        default: false\n      },\n      push: {\n        type: Boolean,\n        default: true\n      },\n      marketing: {\n        type: Boolean,\n        default: false\n      }\n    },\n\n    // Status da conta\n    isActive: {\n      type: Boolean,\n      default: true\n    },\n    isSuspended: {\n      type: Boolean,\n      default: false\n    },\n    suspensionReason: String,\n    suspensionExpiresAt: Date,\n\n    // LGPD e consentimentos\n    lgpdConsent: {\n      type: Boolean,\n      default: false\n    },\n    lgpdConsentDate: Number,\n    dataProcessingConsent: {\n      type: Boolean,\n      default: false\n    },\n    marketingConsent: {\n      type: Boolean,\n      default: false\n    },\n\n    // Metadados de seguranÃ§a\n    lastLoginAt: Date,\n    lastLoginIp: String,\n    loginAttempts: {\n      type: Number,\n      default: 0\n    },\n    lockUntil: Date,\n    passwordChangedAt: Date,\n    passwordResetToken: String,\n    passwordResetExpires: Date,\n\n    // EstatÃ­sticas\n    stats: {\n      totalProducts: {\n        type: Number,\n        default: 0\n      },\n      totalTransactions: {\n        type: Number,\n        default: 0\n      },\n      totalRevenue: {\n        type: Number,\n        default: 0\n      },\n      reputation: {\n        type: Number,\n        default: 0\n      },\n      rating: {\n        type: Number,\n        default: 0\n      }\n    },\n\n    // ConfiguraÃ§Ãµes de idioma\n    language: {\n      type: String,\n      default: 'pt-BR',\n      enum: ['pt-BR', 'en-US', 'es-ES', 'zh-CN']\n    },\n    timezone: {\n      type: String,\n      default: 'America/Sao_Paulo'\n    },\n\n    // Metadados\n    metadata: {\n      type: mongoose.Schema.Types.Mixed,\n      default: {}\n    }\n  },\n  {\n    timestamps: true,\n    toJSON: {\n      transform(doc, ret) {\n        // Remover campos sensÃ­veis do JSON\n        delete ret.password;\n        delete ret.twoFactorSecret;\n        delete ret.twoFactorBackupCodes;\n        delete ret.passwordResetToken;\n        delete ret.emailVerificationToken;\n        delete ret.phoneVerificationCode;\n        delete ret.piiData;\n        delete ret.adminNotes;\n        delete ret.metadata;\n        return ret;\n      }\n    }\n  }\n);\n\n// Ãndices para performance e seguranÃ§a\nuserSchema.index({ email: 1 });\nuserSchema.index({ phone: 1 });\nuserSchema.index({ isActive: 1 });\nuserSchema.index({ isAdmin: 1 });\nuserSchema.index({ plan: 1 });\nuserSchema.index({ createdAt: -1 });\nuserSchema.index({ lastLoginAt: -1 });\n\n// Middleware para hash da senha antes de salvar\nuserSchema.pre('save', async function (next) {\n  // SÃ³ hash se a senha foi modificada\n  if (!this.isModified('password')) {\n    return next();\n  }\n\n  try {\n    // Hash da senha com salt rounds alto para seguranÃ§a\n    const saltRounds = 12;\n    this.password = await bcrypt.hash(this.password, saltRounds);\n    this.passwordChangedAt = new Date();\n    return next();\n  } catch (error) {\n    return next(error);\n  }\n});\n\n// Middleware para atualizar timestamp de mudanÃ§a de senha\nuserSchema.pre('save', function (next) {\n  if (!this.isModified('password') || this.isNew) {\n    return next();\n  }\n  this.passwordChangedAt = Date.now() - 1000;\n  return next();\n});\n\n// MÃ©todo para verificar senha\nuserSchema.methods.comparePassword = async function (candidatePassword) {\n  return await bcrypt.compare(candidatePassword, this.password);\n};\n\n// MÃ©todo para gerar token JWT\nuserSchema.methods.generateAuthToken = function () {\n  const payload = {\n    userId: this._id,\n    email: this.email,\n    isAdmin: this.isAdmin,\n    adminRole: this.adminRole,\n    plan: this.plan\n  };\n\n  return jwt.sign(payload, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRES_IN || '24h',\n    issuer: 'agroisync',\n    audience: 'agroisync-users'\n  });\n};\n\n// MÃ©todo para gerar token de verificaÃ§Ã£o de email\nuserSchema.methods.generateEmailVerificationToken = function () {\n  const token = jwt.sign({ userId: this._id, type: 'email_verification' }, process.env.JWT_SECRET, {\n    expiresIn: '24h'\n  });\n\n  this.emailVerificationToken = token;\n  this.emailVerificationExpires = new Date(Date.now() + 24 * 60 * 60 * 1000);\n\n  return token;\n};\n\n// MÃ©todo para gerar cÃ³digo de verificaÃ§Ã£o de telefone\nuserSchema.methods.generatePhoneVerificationCode = function () {\n  const code = Math.floor(100000 + Math.random() * 900000).toString();\n  this.phoneVerificationCode = code;\n  this.phoneVerificationExpires = new Date(Date.now() + 10 * 60 * 1000); // 10 minutos\n  return code;\n};\n\n// MÃ©todo para gerar token de reset de senha\nuserSchema.methods.generatePasswordResetToken = function () {\n  const token = jwt.sign({ userId: this._id, type: 'password_reset' }, process.env.JWT_SECRET, {\n    expiresIn: '1h'\n  });\n\n  this.passwordResetToken = token;\n  this.passwordResetExpires = new Date(Date.now() + 60 * 60 * 1000); // 1 hora\n\n  return token;\n};\n\n// MÃ©todo para verificar se a conta estÃ¡ bloqueada\nuserSchema.methods.isLocked = function () {\n  return !!(this.lockUntil && this.lockUntil > Date.now());\n};\n\n// MÃ©todo para incrementar tentativas de login\nuserSchema.methods.incLoginAttempts = function () {\n  // Se temos tentativas anteriores e nÃ£o estÃ¡ bloqueado, incrementar\n  if (this.lockUntil && this.lockUntil < Date.now()) {\n    return this.updateOne({\n      $unset: { lockUntil: 1 },\n      $set: { loginAttempts: 1 }\n    });\n  }\n\n  const updates = { $inc: { loginAttempts: 1 } };\n\n  // Bloquear conta apÃ³s 5 tentativas por 2 horas\n  if (this.loginAttempts + 1 >= 5 && !this.isLocked()) {\n    updates.$set = { lockUntil: Date.now() + 2 * 60 * 60 * 1000 }; // 2 horas\n  }\n\n  return this.updateOne(updates);\n};\n\n// MÃ©todo para resetar tentativas de login\nuserSchema.methods.resetLoginAttempts = function () {\n  return this.updateOne({\n    $unset: { loginAttempts: 1, lockUntil: 1 }\n  });\n};\n\n// MÃ©todo para verificar se mudou senha apÃ³s o token JWT\nuserSchema.methods.changedPasswordAfter = function (JWTTimestamp) {\n  if (this.passwordChangedAt) {\n    const changedTimestamp = parseInt(this.passwordChangedAt.getTime(, 10) / 1000, 10);\n    return JWTTimestamp < changedTimestamp;\n  }\n  return false;\n};\n\n// MÃ©todos para criptografia de dados PII\nuserSchema.methods.encryptPIIData = function (data) {\n  const algorithm = 'aes-256-gcm';\n  const key = process.env.PII_ENCRYPTION_KEY || 'default-pii-key-change-in-production';\n\n  try {\n    const iv = crypto.randomBytes(16);\n    const cipher = crypto.createCipher(algorithm, key);\n    cipher.setAAD(Buffer.from('pii-data', 'utf8'));\n\n    let encrypted = cipher.update(JSON.stringify(data), 'utf8', 'hex');\n    encrypted += cipher.final('hex');\n\n    const authTag = cipher.getAuthTag();\n\n    return {\n      encrypted,\n      iv: iv.toString('hex'),\n      authTag: authTag.toString('hex'),\n      algorithm,\n      keyVersion: '1.0'\n    };\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    if (process.env.NODE_ENV !== 'production') {\n      logger.error('Erro ao criptografar dados PII:', error);\n    }\n    throw error;\n  }\n};\n\nuserSchema.methods.decryptPIIData = function (encryptedData) {\n  const key = process.env.PII_ENCRYPTION_KEY || 'default-pii-key-change-in-production';\n\n  try {\n    const decipher = crypto.createDecipher(encryptedData.algorithm, key);\n    decipher.setAAD(Buffer.from('pii-data', 'utf8'));\n    decipher.setAuthTag(Buffer.from(encryptedData.authTag, 'hex'));\n\n    let decrypted = decipher.update(encryptedData.encrypted, 'hex', 'utf8');\n    decrypted += decipher.final('utf8');\n\n    return JSON.parse(decrypted);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    if (process.env.NODE_ENV !== 'production') {\n      logger.error('Erro ao descriptografar dados PII:', error);\n    }\n    throw error;\n  }\n};\n\nuserSchema.methods.setPIIData = function (field, value) {\n  if (!this.piiData) {\n    this.piiData = {};\n  }\n\n  if (value) {\n    const encrypted = this.encryptPIIData(value);\n    this.piiData[field] = encrypted;\n    this.piiData.encryptionMetadata.lastEncrypted = new Date();\n  } else {\n    this.piiData[field] = null;\n  }\n\n  return this;\n};\n\nuserSchema.methods.getPIIData = function (field) {\n  if (!this.piiData || !this.piiData[field]) {\n    return null;\n  }\n\n  try {\n    return this.decryptPIIData(this.piiData[field]);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    if (process.env.NODE_ENV !== 'production') {\n      logger.error(`Erro ao descriptografar campo PII ${field}:`, error);\n    }\n    return null;\n  }\n};\n\nuserSchema.methods.hasPIIData = function (field) {\n  return !!(this.piiData && this.piiData[field]);\n};\n\n// MÃ©todo estÃ¡tico para buscar usuÃ¡rio por email\nuserSchema.statics.findByEmail = function (email) {\n  return this.findOne({ email: email.toLowerCase() });\n};\n\n// MÃ©todo estÃ¡tico para buscar usuÃ¡rios ativos\nuserSchema.statics.findActive = function () {\n  return this.find({ isActive: true, isSuspended: false });\n};\n\n// MÃ©todo estÃ¡tico para buscar administradores\nuserSchema.statics.findAdmins = function () {\n  return this.find({ isAdmin: true, isActive: true });\n};\n\n// MÃ©todo para sanitizar dados antes de retornar\nuserSchema.methods.sanitize = function () {\n  const user = this.toObject();\n  delete user.password;\n  delete user.twoFactorSecret;\n  delete user.twoFactorBackupCodes;\n  delete user.passwordResetToken;\n  delete user.emailVerificationToken;\n  delete user.phoneVerificationCode;\n  delete user.piiData;\n  return user;\n};\n\nconst User = mongoose.model('User', userSchema);\n\nexport default User;\n",
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\UserD1.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\UserReputation.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  },
  {
    "filePath": "C:\\Users\\luisp\\OneDrive\\Área de Trabalho\\agroisync\\backend\\src\\models\\Vehicle.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": [
      { "ruleId": "indent", "replacedBy": [] },
      { "ruleId": "quotes", "replacedBy": [] },
      { "ruleId": "semi", "replacedBy": [] },
      { "ruleId": "comma-dangle", "replacedBy": [] },
      { "ruleId": "object-curly-spacing", "replacedBy": [] },
      { "ruleId": "array-bracket-spacing", "replacedBy": [] },
      { "ruleId": "space-before-function-paren", "replacedBy": [] },
      { "ruleId": "arrow-spacing", "replacedBy": [] },
      { "ruleId": "generator-star-spacing", "replacedBy": [] },
      { "ruleId": "rest-spread-spacing", "replacedBy": [] },
      { "ruleId": "template-curly-spacing", "replacedBy": [] },
      { "ruleId": "callback-return", "replacedBy": [] },
      { "ruleId": "handle-callback-err", "replacedBy": [] },
      { "ruleId": "no-buffer-constructor", "replacedBy": [] },
      { "ruleId": "no-new-require", "replacedBy": [] },
      { "ruleId": "no-path-concat", "replacedBy": [] },
      { "ruleId": "no-process-exit", "replacedBy": [] }
    ]
  }
]
